<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
                           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd
                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd
                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd">

	<bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="location">
			<value>automation-credentials.properties</value>
		</property>
	</bean>
	


	<!-- Dummy BasicDBObject -->
	<bean id="myDbObject" class="com.mongodb.BasicDBObject" />

    <!-- create collection -->
    <util:map id="createCollection" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.String">
        <entry key="collectionName" value="testCollection" />
    </util:map>

    <!-- drop collection -->
    <util:map id="dropCollection" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.String">
        <entry key="collectionName" value="testCollection" />
    </util:map>

    <!-- exists collection -->
    <util:map id="existsCollection" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.String">
        <entry key="collectionName" value="testCollection" />
    </util:map>

    <!-- list collection -->
    <util:list id="listCollections" value-type="java.lang.String">
        <value>FirstCollection</value>
        <value>SecondCollection</value>
        <value>ThirdCollection</value>
    </util:list>

    <!-- create index -->
    <util:map id="createIndex" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="dbObject" value-ref="myDbObject" />
        <entry key="collectionName" value="testCollection" />
        <entry key="field" value="myField" />
        <entry key="order" value="ASC" />
    </util:map>

    <!-- drop index -->
    <util:map id="dropIndex" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="dbObject" value-ref="myDbObject" />
        <entry key="collectionName" value="testCollection" />
        <entry key="field" value="myField" />
        <entry key="order" value="ASC" />
    </util:map>
    
    <!-- list indices -->
    <util:map id="listIndices" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="collectionName" value="testCollection" />
        <!-- index to search for -->
        <entry key="dbObject" value-ref="myDbObject" />
        <entry key="field" value="myField" />
        <entry key="order" value="ASC" />
    </util:map>

    <!-- insert object -->
    <util:map id="insertObject" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="collectionName" value="testCollection" />
        <entry key="writeConcern" value="SAFE" />
        <entry key="dbObject" value-ref="myDbObject" />
    </util:map>
    
    <!-- insert object from map -->
    <util:map id="insertObjectFromMap" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="collectionName" value="testCollection" />
        <entry key="writeConcern" value="SAFE" />
        <entry key="key" value="objectKey" />
        <entry key="value" value="objectValue" />
    </util:map>
    
    <!-- find objects using query map (with query | without query | with limit) -->
    <util:map id="findObjectsUsingQueryMap" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="collectionName" value="testCollection" />
        <entry key="writeConcern" value="SAFE" />
        <!-- Number of objects without the key-value pair -->
        <entry key="extraObjects" value="10" />
        <entry key="numObjects" value="25" /> 
        <!-- The following key-value pair are set to each and every DBObject -->
        <!-- Number of DBObjects is defined using the "numObjects" value in this bean -->
        <entry key="queryKey" value="myKey" />
        <entry key="queryValue" value="myValue" />
        <!-- This value is only used in the "testFindObjectsUsingQueryMap_WithLimit" test -->
        <entry key="limit" value="10" />
    </util:map>

    <!-- find one object -->
    <util:map id="findOneObject" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="collectionName" value="testCollection" />
        <entry key="writeConcern" value="SAFE" />
        <entry key="dbObject" value-ref="myDbObject" />
    </util:map>
    
    <!-- find one object using query map -->
    <util:map id="findOneObjectUsingQueryMap" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="collectionName" value="testCollection" />
        <entry key="writeConcern" value="SAFE" />
        <entry key="key" value="foo" />
        <entry key="value" value="bar" />
    </util:map>
    
    <!-- insert multiple objects -->
    <util:map id="insertMultipleObjects" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="collectionName" value="testCollection" />
        <entry key="writeConcern" value="SAFE" />
        <entry key="numberOfObjects" value="25" />
    </util:map>
               
    <!-- remove objects -->
    <util:map id="removeObjects" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="collectionName" value="testCollection"/>
        <entry key="queryRef" value-ref="myDbObject"/>
    </util:map>
    
    <util:map id="removeUsingQueryMap" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="collectionName" value="testCollection" />
        <entry key="writeConcern" value="SAFE" />
        <entry key="key" value="someKey" />
        <entry key="value" value="someValue" />
        
        <!-- Empty DBObjects to create -->
        <entry key="extraObjects" value="10" />
        <!-- DBObjects to create with the above key-value pair -->
        <entry key="numberOfObjects" value="25" />
    </util:map>
    
    <!-- save object -->
    <util:map id="saveObject" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="collectionName" value="testCollection"/>
        <entry key="element" value-ref="myDbObject" />
        <entry key="writeConcern" value="SAFE" />
        <!-- Add the following key/value pair to modify the object -->
        <entry key="key" value="mykey" />
        <entry key="value" value="myvalue" />
    </util:map>
    
    <!-- save object -->
    <util:map id="saveObjectFromMap" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="collectionName" value="testCollection"/>
        <entry key="writeConcern" value="SAFE" />
        <entry key="key" value="someKey" />
        <entry key="value" value="someValue" />
    </util:map>
        
    <!-- add user -->
    <util:map id="addUser" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.String">
        <entry key="username" value="newUsername"/>
        <entry key="password" value="newPassword" />
    </util:map>

    <!-- count objects -->
    <util:map id="countObjects" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.String">
        <entry key="collectionName" value="testCollection" />
        <entry key="dbObject" value-ref="myDbObject" />
    </util:map>
    
    <!-- execute command -->
    <util:map id="executeCommand" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.String">
        <entry key="collectionName" value="newCollection" />
        <entry key="commandName" value="drop" />
        <entry key="commandValue" value="newCollection" />
    </util:map>
    
    <!-- update object -->
    <util:map id="updateObjects" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="collectionName" value="newCollection" />
        <entry key="dbObject" value-ref="myDbObject" />
		<entry key="writeConcern" value="SAFE" />
		<!-- Key value pair to be written to the object/s for update -->
		<entry key="key" value="myKey" />
		<entry key="value" value="myValue" />	
    </util:map>
        
    <!-- HELPER STUFF BELOW -->

    <!-- Helper bean to count the number of users -->
    <util:map id="getUsers" map-class="java.util.HashMap" key-type="java.lang.String" value-type="java.lang.String">
        <entry key="collectionName" value="system.users" />
        <entry key="dbObject" value-ref="myDbObject" />
    </util:map>


	<!--   	Message source -->

	<bean id="messageSource" class="org.springframework.context.support.ResourceBundleMessageSource">
		<property name="basenames">
			<value>automation-error-messages</value>
		</property>
	</bean>

</beans>
